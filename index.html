<!DOCTYPE html>
<html>
<head>
    <title>VPN Link Generator</title>
    <style>
        body { font-family: Arial; padding: 40px; max-width: 800px; margin: auto; }
        input, button { padding: 12px; font-size: 16px; width: 100%; margin-bottom: 20px; }
        .output { background: #f0f0f0; padding: 15px; word-break: break-all; }
    </style>
</head>
<body>
    <h2>üîê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Å—ã–ª–∫–∏ –¥–ª—è Hiddify / Happ</h2>
    <label>–í—Å—Ç–∞–≤—å—Ç–µ Subscription URL –∏–∑ 3X-UI (—Å—Å—ã–ª–∫—É –Ω–∞ JSON):</label>
    <input type="url" id="rawUrl" placeholder="https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:–ø–æ—Ä—Ç/sub/.../json" />
    <button onclick="generateLink()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
    
    <div id="resultContainer" style="display:none;">
        <h3>–ì–æ—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –¥—Ä—É–≥–∞:</h3>
        <div class="output" id="finalLink"></div>
        <button onclick="copyLink()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>

    <script>
        const BASE_URL = "https://egor83839473.github.io";
        
        function generateLink() {
            const rawUrl = document.getElementById('rawUrl').value;
            if (!rawUrl) return alert('–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É');
            
            // –ö–æ–¥–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –≤ base64 –∏–ª–∏ encodeURIComponent
            const encoded = btoa(rawUrl); // base64 —á–∏—â–µ –¥–ª—è URL
            const final = `${BASE_URL}/?key=${encoded}`;
            
            document.getElementById('finalLink').innerText = final;
            document.getElementById('resultContainer').style.display = 'block';
        }
        
        function copyLink() {
            const link = document.getElementById('finalLink').innerText;
            navigator.clipboard.writeText(link);
            alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
        }
    </script>
</body>
</html>
